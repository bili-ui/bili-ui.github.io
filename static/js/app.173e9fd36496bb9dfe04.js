webpackJsonp([3],{"8rkF":function(t,e){},Bzvx:function(t,e){},OWH1:function(t,e){},mUtA:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),o=[{name:"block",meta:{desc:"基础展示块"}},{name:"nav-list",meta:{desc:"侧边浮动导航"}},{name:"icon",meta:{desc:"SVG图标"}}],n={data:function(){return{componentList:o}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slide-wrapper"},[s("div",{staticClass:"slide-head"},[s("router-link",{attrs:{to:"/"}},[t._v("Bili-UI")])],1),t._v(" "),s("dl",[s("dt",[t._v("基础组件")]),t._v(" "),t._l(t.componentList,function(e){return s("dd",[s("router-link",{class:t.$route.name===e.name?"link-active":null,attrs:{to:{name:e.name}}},[t._v(t._s(e.name))])],1)})],2)])},staticRenderFns:[]};var r={name:"App",data:function(){return{isIndex:!0}},watch:{$route:function(){this.isIndex="index"===this.$route.name}},components:{SlideBar:s("VU/8")(n,a,!1,function(t){s("Bzvx")},"data-v-671f0954",null).exports}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.isIndex?t._e():s("slide-bar"),t._v(" "),s("main",[t.isIndex?t._e():s("header",[t._v(t._s(t.$route.meta.desc))]),t._v(" "),s("div",{staticClass:"show-wrapper"},[s("router-view")],1)])],1)},staticRenderFns:[]};var d=s("VU/8")(r,l,!1,function(t){s("y2PQ")},null,null).exports,c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"docs-demo-wrapper"},[e("div",{staticClass:"demo-container",style:{height:this.isExpand?"auto":"0"}},[e("div",{attrs:{span:"14"}},[e("div",{staticClass:"docs-demo docs-demo--expand"},[e("div",{staticClass:"highlight-wrapper"},[this._t("highlight")],2)])])]),this._v(" "),e("span",{staticClass:"docs-trans docs-demo__triangle",on:{click:this.toggle}},[this._v(this._s(this.isExpand?"隐藏代码":"显示代码"))])])},staticRenderFns:[]};var m=s("VU/8")({data:function(){return{isExpand:!1}},methods:{toggle:function(){this.isExpand=!this.isExpand}}},c,!1,function(t){s("8rkF")},null,null).exports,h=s("/ocq");i.a.use(h.a);var u=[{name:"index",path:"/",component:function(t){return s.e(1).then(function(){return t(s("sCyD"))}.bind(null,s)).catch(s.oe)}}];!function(t){t.forEach(function(t){u.push({name:t.name,path:"/"+t.name,meta:t.meta,component:function(e){return s.e(0).then(function(){return e(s("Gv6s")("./"+t.name+".md"))}.bind(null,s)).catch(s.oe)}})})}(o);var p=new h.a({routes:u}),v=s("Dd8w"),f=s.n(v),g={name:"BBlock",props:{lazyImg:{type:String},image:{type:String},bottomTitle:{type:String},desc:{type:Object},mask:{type:String},maskCard:{type:Object},maskVideo:{type:Object},maskImage:{type:String},videoTime:{type:Number},link:{type:String,default:""}},data:function(){return{progressBarWidth:0,time:this.videoTime||"",videoPos:"",videoImage:"",barrageMove:null,barrageEls:[],barrageNum:0,boxWidth:0,boxHeight:0}},watch:{maskVideo:function(){this.barrageNum||this.createBarrage()}},mounted:function(){this.boxWidth=this.$refs.maskBox.offsetWidth},methods:{startShow:function(t){if(this.boxHeight=this.$refs.maskBox.offsetHeight,"video"!==!this.mask&&this.maskVideo){this.progressBarWidth=(t.clientX-t.currentTarget.offsetLeft)/this.boxWidth*100;var e=this.progressBarWidth/100*this.maskVideo.index[this.maskVideo.index.length-1],s=void 0,i=5;this.maskVideo.index.forEach(function(t,o,n){i=n[o+1]-t,e+i>t&&e-i<t&&(s=o)});var o=this.maskVideo.img_x_len*this.maskVideo.img_y_len,n=s%o;this.videoImage=this.maskVideo.images[~~(s/o)],n<this.maskVideo.img_x_len?this.videoPos=-n*this.maskVideo.img_x_size+"px 0":this.videoPos=-n%this.maskVideo.img_x_len*this.maskVideo.img_x_size+"px "+-~~(n/this.maskVideo.img_y_len)*this.maskVideo.img_y_size+"px"}},createBarrage:function(t){var e=this;if(this.$emit("mask-hover"),"video"===this.mask&&this.maskVideo){this.createEle();var s=0;this.barrageMove=setInterval(function(){3===++s&&e.createEle(),5===s&&(s=0)},1e3)}},createEle:function(){this.barrageNum>this.maskVideo.barrage.length-1&&(this.barrageNum=0);var t=document.createElement("div");t.innerText=this.maskVideo.barrage[this.barrageNum],t.style.color="#fff",t.style.position="absolute",t.style.left="100%",t.style.top=40*Math.random()+"px",t.style.whiteSpace="pre",t.style.textShadow="1px 1px 2px #001",t.style.transition="left 5s linear",document.querySelector(".barrage-mode").appendChild(t),t.style.left=-t.offsetWidth+"px",this.barrageEls.push(t),this.barrageNum++},endShow:function(){if("video"===this.mask&&this.maskVideo){var t=document.querySelector(".barrage-mode");clearInterval(this.barrageMove);for(var e=0;e<t.children.length;e++)t.removeChild(t.children[e]),this.barrageEls.unshift()}},formatTime:function(t){var e=0,s=0,i=0;return i=t-(3600*(e=t>3600?~~t/3600:0)+60*(s=t>60?~~((t-3600*e)/60):0)),s<10&&(s="0"+s),i<10&&(i="0"+i),e?(e<10&&(e="0"+e),e+":"+s+":"+i):s+":"+i}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block",style:t.bottomTitle?null:{height:"100px"},on:{mouseenter:t.createBarrage,mousemove:t.startShow,mouseout:t.endShow}},[s("a",{attrs:{href:t.link}},[s("div",{ref:"maskBox",staticClass:"pic",style:{backgroundImage:"url("+t.lazyImg+")"}},[s("img",{attrs:{src:t.image,alt:""}}),t._v(" "),t.mask&&"card"===t.mask?s("div",{staticClass:"card-mask"},[t.maskCard?s("p",{staticClass:"title",domProps:{innerHTML:t._s(t.maskCard.title)}}):t._e(),t._v(" "),t.maskCard?s("p",{staticClass:"author",domProps:{innerHTML:t._s(t.maskCard.author)}}):t._e(),t._v(" "),t.maskCard?s("p",{staticClass:"play",domProps:{innerHTML:t._s(t.maskCard.play)}}):t._e()]):t.mask&&"video"===t.mask?s("div",{staticClass:"video-mask"},[s("div",{staticClass:"progress-bar"},[s("span",{style:{width:t.progressBarWidth+"%"}})]),t._v(" "),s("div",{staticClass:"cover-preview-module",style:{backgroundImage:"url("+t.videoImage+")",backgroundPosition:t.videoPos}}),t._v(" "),s("div",{staticClass:"video-mask"}),t._v(" "),s("span",{staticClass:"time"},[t._v(t._s(t.formatTime(t.time)))]),t._v(" "),s("div",{staticClass:"barrage-mode"})]):s("div",{staticClass:"image-mask"},[s("img",{attrs:{src:t.maskImage,alt:""}})])]),t._v(" "),t.bottomTitle?s("p",{staticClass:"b",style:t.desc?{height:"20px"}:null},[t._v("\n      "+t._s(t.bottomTitle)+"\n    ")]):t._e(),t._v(" "),t.desc?s("p",{staticClass:"tit"},[s("span",{domProps:{innerHTML:t._s(t.desc.leftKeyword)}}),t._v(" "),s("span",{domProps:{innerHTML:t._s(t.desc.rightKeyword)}})]):t._e()])])},staticRenderFns:[]};var y=s("VU/8")(g,k,!1,function(t){s("OWH1")},"data-v-0ee22686",null).exports;y.install=function(t){t.component(y.name,y)};var _=y,b={name:"BNavList",props:{styles:{type:Object},list:{type:Array}},data:function(){return{elementMap:null,choseIndex:-1,elTop:0,isDrop:!1,moveEl:null,emptyEl:null,moveOrder:0,moveIndex:null,showMask:!1}},mounted:function(){for(var t in this.list)this.$set(this.list[t],"order",this.list[t].order);this.onScroll(),this.getElsTop()},methods:{getElsTop:function(){var t=this,e={};this.list.forEach(function(s){e[s.id]={},e[s.id].top=t.offsetTop(document.querySelector("#"+s.id)),e[s.id].bottom=t.offsetTop(document.querySelector("#"+s.id))+document.querySelector("#"+s.id).offsetHeight}),this.elementMap=e},startDrop:function(t,e,s){this.showMask&&(this.createEmptyEl(e),t.currentTarget.style.position="absolute",this.elTop=t.clientY-this.offsetTop(document.querySelector(".nav-list ul"))-t.currentTarget.offsetHeight/2,t.currentTarget.style.top=this.elTop+"px",this.isDrop=!0,this.moveEl=t.currentTarget,this.moveOrder=e,this.moveIndex=s)},createEmptyEl:function(t){this.emptyEl=document.createElement("li"),document.querySelector(".nav-list ul").appendChild(this.emptyEl),this.emptyEl.style=t,this.emptyEl.style.height="32px"},moveDrop:function(t){if(this.isDrop){this.elTop=t.clientY-this.offsetTop(t.currentTarget)-this.moveEl.offsetHeight/2,this.moveEl.style.top=this.elTop+"px";var e=Math.round(this.elTop/this.moveEl.offsetHeight);this.moveOrder=e,this.emptyEl.style.order=this.moveOrder;for(var s=0;s<this.list.length;s++)this.list[s].order===e&&(this.list[s].order=this.list[this.moveIndex].order);this.list[this.moveIndex].order=this.moveOrder}},endDrop:function(t){if(this.isDrop){this.isDrop=!1,this.moveEl.style.position="static",this.moveEl.style.order=this.moveOrder,document.querySelector(".nav-list ul").removeChild(this.emptyEl);for(var e=document.querySelector("#"+this.list[this.moveIndex].id).parentNode.children,s=0;s<e.length;s++)for(var i in this.list)e[s].getAttribute("id")===this.list[i].id&&(e[s].style.order=this.list[i].order);this.getElsTop()}},sideLink:function(t,e){this.showMask||(this.toEl(2,this.elementMap[t].top),this.choseIndex=e)},onScroll:function(){(document.body.scrollTop?document.body:document.documentElement).scrollTop;window.addEventListener("scroll",this.debounce(this.isInside,100),!1)},isInside:function(){var t=(document.body.scrollTop?document.body:document.documentElement).scrollTop,e=0;for(var s in this.elementMap)t>this.elementMap[s].top-20&&t<this.elementMap[s].bottom-20&&(this.choseIndex=e),e++},debounce:function(t,e,s){var i=void 0;return function(){clearTimeout(i),i=setTimeout(t,e)}},toEl:function(t,e){var s=document.body.scrollTop?document.body:document.documentElement,i=s.scrollTop;!function o(){i+=(e-i)/(t||2),Math.abs(i-e)<1?s.scrollTop=i:(s.scrollTop=i,requestAnimationFrame(o))}()},offsetTop:function(t){for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e}}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"navList",staticClass:"nav-list",style:t.styles},[s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showMask,expression:"showMask"}],staticClass:"b-nav-mask",on:{click:function(e){e.stopPropagation(),t.showMask=!t.showMask}}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showMask,expression:"showMask"}],staticClass:"b-nav-bg"},[t._t("default")],2)]),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showMask,expression:"showMask"}],staticClass:"b-nav-bg"},[t._t("default")],2)]),t._v(" "),s("ul",{on:{mousemove:t.moveDrop}},t._l(t.list,function(e,i){return s("li",{key:i,class:i===t.choseIndex?"on":null,style:{order:e.order},attrs:{data:e.order},on:{click:function(s){t.sideLink(e.id,i)},mousedown:function(s){t.startDrop(s,e.order,i)},mouseup:t.endDrop,mouseout:t.endDrop}},[t._v(t._s(e.name))])})),t._v(" "),s("div",{staticClass:"b-sort-wrapper",on:{click:function(e){t.showMask=!t.showMask}}},[s("b-icon",{attrs:{value:"sort",klass:"sort-icon"}}),t._v("\n    排序\n  ")],1)],1)},staticRenderFns:[]};var w=s("VU/8")(b,x,!1,function(t){s("vm3+")},"data-v-5f9e8eb8",null).exports;w.install=function(t){t.component(w.name,w)};var E=w,T={name:"BIcon",props:{value:{type:String},klass:{type:String,default:""}},render:function(t){var e=this.value,s=this.klass;s.split(" ");return t("i",{class:["b-"+e].concat([s]),on:{"!click":this.onClick}})},methods:{onClick:function(){this.$emit("iconClick")}}};var C=s("VU/8")(T,null,!1,function(t){s("yqPh")},"data-v-0f309faf",null).exports;C.install=function(t){t.component(C.name,C)};var M=[_,E,C],I=function t(e){t.installed||M.map(function(t){return e.component(t.name,t)})};"undefined"!=typeof window&&window.Vue&&I(window.Vue);var V=f()({install:I},M);i.a.config.productionTip=!1,i.a.component("demo-block",m),i.a.use(V),new i.a({el:"#app",router:p,components:{App:d},template:"<App/>"})},"vm3+":function(t,e){},y2PQ:function(t,e){},yqPh:function(t,e){}},["mUtA"]);
//# sourceMappingURL=app.173e9fd36496bb9dfe04.js.map